<!DOCTYPE html>
<html lang="tr">
<head>
  <!-- Google Fonts: Inter (latin-ext) + Poppins for titles -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@400;500;600;700;800;900&display=swap&subset=latin-ext" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Eskisini ver, yenisini al! Türkiye'nin güvenilir ikinci el & takas platformu. Kategoriye göre ara, filtrele, satın al.">
  <!-- CSP is set by server headers, NOT meta tags -->
  <title>Eskisini Ver Yenisini Al</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="apple-touch-icon" href="/assets/logo.png">

  <link rel="stylesheet" href="/css/styles.css?v=20250930">
  <link rel="stylesheet" href="/css/product-card.css?v=20250930">
  <link rel="stylesheet" href="/css/home.css?v=20250930">
  <link rel="stylesheet" href="/css/notifications.css?v=20250930">

  <style>
    /* Modern Hero Section */
    .modern-hero {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 4rem 0;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero-content {
      position: relative;
      z-index: 2;
    }

    .hero-title {
      font-family: 'Poppins', sans-serif;
      font-size: 3.5rem;
      font-weight: 900;
      line-height: 1.2;
      margin-bottom: 1.5rem;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .hero-subtitle {
      font-size: 1.4rem;
      font-weight: 500;
      margin-bottom: 3rem;
      opacity: 0.9;
    }

    /* Categories */
    .categories-sidebar {
      background: white;
      border-radius: 1rem;
      padding: 1.5rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
      border: 1px solid #e2e8f0;
    }

    .category-link {
      display: block;
      padding: 0.75rem 1rem;
      text-decoration: none;
      color: #4a5568;
      border-radius: 0.5rem;
      margin-bottom: 0.5rem;
      transition: all 0.2s ease;
    }

    .category-link:hover {
      background: #f7fafc;
      color: #667eea;
      text-decoration: none;
    }

    /* Product Cards */
    .products-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .product-card.list-item {
      display: flex;
      background: white;
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      border: 1px solid #e2e8f0;
      transition: all 0.2s ease;
    }

    .product-card.list-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }

    .product-image {
      width: 120px;
      height: 120px;
      border-radius: 0.5rem;
      overflow: hidden;
      margin-right: 1rem;
      flex-shrink: 0;
    }

    .product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .product-info {
      flex: 1;
    }

    .product-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #1a202c;
    }

    .product-description {
      color: #718096;
      font-size: 0.9rem;
      margin-bottom: 0.75rem;
    }

    .product-meta {
      display: flex;
      gap: 1rem;
      font-size: 0.85rem;
    }

    .product-price {
      font-weight: 600;
      color: #667eea;
    }

    .product-location {
      color: #718096;
    }

    .product-date {
      color: #a0aec0;
    }

    .product-actions {
      display: flex;
      flex-direction: column;
      justify-content: center;
      margin-left: 1rem;
    }

    /* Sellers */
    .seller-item {
      display: flex;
      align-items: center;
      padding: 1rem;
      background: white;
      border-radius: 0.5rem;
      margin-bottom: 0.5rem;
      text-decoration: none;
      color: inherit;
      border: 1px solid #e2e8f0;
      transition: all 0.2s ease;
    }

    .seller-item:hover {
      background: #f7fafc;
      text-decoration: none;
      color: inherit;
    }

    .seller-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #667eea;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      margin-right: 1rem;
      overflow: hidden;
    }

    .seller-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .seller-info h6 {
      margin: 0 0 0.25rem 0;
      font-weight: 600;
    }

    .seller-stats {
      font-size: 0.85rem;
      color: #718096;
    }

    /* Layout */
    .main-content-section {
      padding: 2rem 0;
      background: #f8fafc;
    }

    .sidebar-header {
      margin-bottom: 1rem;
    }

    .sidebar-header h5 {
      margin: 0;
      color: #1a202c;
    }

    .content-header {
      margin-bottom: 1.5rem;
    }

    .content-header h4 {
      margin: 0;
      color: #1a202c;
    }

    .search-filters {
      background: white;
      border-radius: 1rem;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
      border: 1px solid #e2e8f0;
    }

    .filter-group {
      margin-bottom: 1rem;
    }

    .products-content {
      background: white;
      border-radius: 1rem;
      padding: 1.5rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
      border: 1px solid #e2e8f0;
    }

    @media (max-width: 768px) {
      .hero-title {
        font-size: 2.5rem;
      }

      .product-card.list-item {
        flex-direction: column;
      }

      .product-image {
        width: 100%;
        height: 200px;
        margin-right: 0;
        margin-bottom: 1rem;
      }

      .product-actions {
        margin-left: 0;
        margin-top: 1rem;
      }
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <div data-include="partials/header.html"></div>

  <!-- MODERN HERO -->
  <section class="modern-hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">
          <span class="title-part-1">Eskisini Ver</span><br>
          <span class="title-part-2">Yenisini Al</span>
        </h1>
        <p class="hero-subtitle">
          Türkiye'nin en güvenilir sürdürülebilir alışveriş platformu
        </p>
      </div>
    </div>
  </section>

  <!-- MAIN CONTENT AREA -->
  <section class="main-content-section">
    <div class="container">
      <div class="row">
        <!-- LEFT SIDEBAR - FILTERS & CATEGORIES -->
        <div class="col-lg-3 col-md-4">
          <!-- Detaylı Arama Filtreleri -->
          <div class="search-filters">
            <div class="sidebar-header">
              <h5><i class="fas fa-filter me-2"></i>Detaylı Arama</h5>
            </div>
            <div class="filter-content">
              <!-- Fiyat Aralığı -->
              <div class="filter-group mb-3">
                <label class="form-label fw-semibold">Fiyat Aralığı</label>
                <div class="row g-2">
                  <div class="col-6">
                    <input type="number" class="form-control form-control-sm" placeholder="Min ₺" id="priceMin">
                  </div>
                  <div class="col-6">
                    <input type="number" class="form-control form-control-sm" placeholder="Max ₺" id="priceMax">
                  </div>
                </div>
              </div>

              <!-- Konum -->
              <div class="filter-group mb-3">
                <label class="form-label fw-semibold">Konum</label>
                <select class="form-select form-select-sm" id="locationFilter">
                  <option value="">Tüm Şehirler</option>
                </select>
              </div>

              <!-- Durum -->
              <div class="filter-group mb-3">
                <label class="form-label fw-semibold">Ürün Durumu</label>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="conditionNew">
                  <label class="form-check-label" for="conditionNew">Sıfır</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="conditionUsed">
                  <label class="form-check-label" for="conditionUsed">İkinci El</label>
                </div>
              </div>

              <!-- Filtre Uygula -->
              <div class="d-grid gap-2">
                <button class="btn btn-primary btn-sm" id="applyFilters">
                  <i class="fas fa-search me-1"></i>Filtrele
                </button>
                <button class="btn btn-outline-secondary btn-sm" id="clearFilters">
                  <i class="fas fa-times me-1"></i>Temizle
                </button>
              </div>
            </div>
          </div>

          <!-- Kategoriler -->
          <div class="categories-sidebar">
            <div class="sidebar-header">
              <h5><i class="fas fa-list me-2"></i>Kategoriler</h5>
            </div>
            <div class="categories-list" id="categoriesTree">
              <!-- JavaScript ile doldurulacak -->
            </div>
          </div>
        </div>

        <!-- RIGHT CONTENT - SELLERS & PRODUCTS -->
        <div class="col-lg-9 col-md-8">
          <!-- Featured Sellers Section -->
          <div class="products-content mb-4">
            <div class="content-header">
              <h4><i class="fas fa-star me-2"></i>Öne Çıkan Satıcılar</h4>
            </div>
            <div class="sellers-list" id="featuredSellers">
              <!-- JavaScript ile doldurulacak -->
            </div>
          </div>

          <!-- Products Section -->
          <div class="products-content">
            <div class="content-header">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h4 id="contentTitle"><i class="fas fa-star me-2"></i>Öne Çıkan İlanlar</h4>
                <div class="d-flex align-items-center gap-3">
                  <select class="form-select form-select-sm" id="sortSelect" style="width: auto;">
                    <option value="newest">En Yeni</option>
                    <option value="price_asc">Fiyat (Düşük → Yüksek)</option>
                    <option value="price_desc">Fiyat (Yüksek → Düşük)</option>
                    <option value="popular">En Popüler</option>
                  </select>
                  <div class="results-count text-muted">
                    <span id="resultsCount">0</span> ilan bulundu
                  </div>
                  <div class="view-options">
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-outline-secondary btn-sm active" id="listView">
                        <i class="fas fa-list"></i>
                      </button>
                      <button type="button" class="btn btn-outline-secondary btn-sm" id="gridView">
                        <i class="fas fa-th"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Products List -->
            <div class="products-container" id="productsContainer">
              <div class="products-list" id="productsList">
                <!-- JavaScript ile doldurulacak -->
              </div>

              <!-- Loading Indicator -->
              <div class="loading-indicator text-center py-4" id="loadingIndicator" style="display: none;">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Yükleniyor...</span>
                </div>
                <div class="mt-2">İlanlar yükleniyor...</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <div data-include="partials/footer.html"></div>

  <!-- Simple JavaScript Loading - No Complex Dependency Management -->
  <script src="/js/api-base.js"></script>
  <script src="/js/homepage-simple.js"></script>

</body>
</html>